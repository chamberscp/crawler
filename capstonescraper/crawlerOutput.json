import scrapy
import sys
import mysql.connector

class CrawlerSpider(scrapy.Spider):
    name = 'crawler'
    allowed_domains = ['www.whiskyshopusa.com']
    start_urls = ['http://www.whiskyshopusa.com/']

    # Create a MySQL connection and cursor
    db = mysql.connector.connect(
        host="localhost",
        user="user",
        passwd="password",
        database="database_name"
    )
    cursor = db.cursor()

    def parse(self, response):
        # Display all products in li Odd class
        for products in response.css('li.Odd'):
            name = products.css('a.pname::text').get()
            price = products.css('em.p-price::text').get()
            link = products.css('a').attrib['href']

            # Insert the scraped data into the "products" table in MySQL
            self.cursor.execute("INSERT INTO products (name, price, link) VALUES (%s, %s, %s)", (name, price, link))
            self.db.commit()

        # Display all products in li Even class
        for products in response.css('li.Even'):
            name = products.css('a.pname::text').get()
            price = products.css('em.p

